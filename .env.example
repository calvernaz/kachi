# Kachi Billing Platform Environment Configuration

# Database Configuration
DATABASE_URL=postgresql+asyncpg://kachi:kachi_password@localhost:5432/kachi
TEST_DATABASE_URL=sqlite+aiosqlite:///:memory:

# Redis Configuration (for Celery)
REDIS_URL=redis://localhost:6379/0

# Lago Billing Integration
LAGO_API_KEY=your_lago_api_key_here
LAGO_API_URL=https://api.getlago.com/api/v1
LAGO_WEBHOOK_SECRET=your_webhook_secret_here

# Application Settings
DEBUG=false
LOG_LEVEL=INFO
SECRET_KEY=your_secret_key_here

# API Configuration
INGEST_API_HOST=0.0.0.0
INGEST_API_PORT=8001
DASHBOARD_API_HOST=0.0.0.0
DASHBOARD_API_PORT=8002

# CORS Settings
CORS_ORIGINS=["http://localhost:3000", "http://localhost:5174"]

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=1000

# Monitoring and Observability
SENTRY_DSN=your_sentry_dsn_here
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# External Metrics Collection
METRICS_COLLECTION_ENABLED=true
METRICS_COLLECTION_INTERVAL=300

# Prometheus Data Source
PROMETHEUS_ENDPOINT=http://localhost:9090
PROMETHEUS_BEARER_TOKEN=your_prometheus_token_here
PROMETHEUS_USERNAME=your_prometheus_username
PROMETHEUS_PASSWORD=your_prometheus_password
PROMETHEUS_TIMEOUT=30

# InfluxDB Data Source (for future use)
INFLUXDB_ENDPOINT=http://localhost:8086
INFLUXDB_TOKEN=your_influxdb_token_here
INFLUXDB_ORG=your_org
INFLUXDB_BUCKET=your_bucket

# DataDog Data Source (for future use)
DATADOG_API_KEY=your_datadog_api_key_here
DATADOG_APP_KEY=your_datadog_app_key_here
DATADOG_SITE=datadoghq.com

# Email Configuration (for alerts)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM=noreply@yourcompany.com

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json

# Security
JWT_SECRET_KEY=your_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# Feature Flags
ENABLE_USAGE_FORECASTING=true
ENABLE_ANOMALY_DETECTION=true
ENABLE_REAL_TIME_ALERTS=true

# Performance Settings
MAX_WORKERS=4
WORKER_TIMEOUT=30
KEEP_ALIVE=2

# Data Retention
EVENTS_RETENTION_DAYS=90
METER_READINGS_RETENTION_DAYS=365
LOGS_RETENTION_DAYS=30

# Development Settings
RELOAD=false
ACCESS_LOG=true
